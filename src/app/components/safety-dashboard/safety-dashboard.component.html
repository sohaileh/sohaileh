<mat-drawer-container>
    <div class="container-flex">
        <div class="container-flex">
            <mat-toolbar class="nav p-0" style="height: 50px;background: #fff;">
                <div class="col-lg-12 mt-2 no-gutters" style="Display:flex">
                    <div class="col-lg-4">
                        <i class="fa fa-bars fa-fw font-30 mr-1 showCursor" title="Sidenav Bar" aria-hidden="true"></i>
                        <!-- <a href="http://18.217.82.193:8000/list.html"><i class="fa fa-home white-color font-30 mr-1 showCursor" title="go to home"></i></a> -->
                        <span>{{'bTITON vSentinel'}}</span>
                    </div>
                    <div class="col-lg-4 text-center">
                        <span class="mt-2">KilBourn</span>
                    </div>
                    <div class="col-lg-4">
                        <span class="pull-right">
                            <span class="btn profile-nav-dot search-icon-css mr-1 showCursor" (click)="opendatePickerDialog()">
                                <i class="mt-2 fa-lg fa fa-calendar text-primary"></i>
                            </span>
                        </span>
                    </div>
                </div>
            </mat-toolbar>
        </div>
        <div class="m-grid__item m-grid__item--fluid m-wrapper">
            <div class="m-content">
                <div class="row">
                    <div class="col-lg-7">
                        <div class="m-portlet m-portlet--head-solid-bg m-portlet--head-sm mb-2" m-portlet="true">
                            <div class="m-portlet__head">
                                <div class="m-portlet__head-caption">
                                    <div class="m-portlet__head-title">
                                        <span class="m-portlet__head-icon">
                                            <i class="fa fa-server fa-lg"></i>
                                        </span>
                                        <h3 class="m-portlet__head-text">
                                            Events Summary
                                        </h3>
                                    </div>
                                </div>
                                <div class="m-portlet__head-tools">
                                    <ul class="m-portlet__nav">
                                        <li class="m-portlet__nav-item">
                                            <a onclick="download_csv();" class="m-portlet__nav-link m-portlet__nav-link--icon">
                                                <i class="la la-download"></i>
                                            </a>
                                        </li>

                                        <li class="m-portlet__nav-item">
                                            <a href="" m-portlet-tool="toggle" class="m-portlet__nav-link m-portlet__nav-link--icon">
                                                <i class="la la-angle-down"></i>
                                            </a>
                                        </li>
                                        <li class="m-portlet__nav-item">
                                            <a href="#" m-portlet-tool="fullscreen" class="m-portlet__nav-link m-portlet__nav-link--icon">
                                                <i class="la la-expand"></i>
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="m-portlet__body">
                                <div class="table-responsive height-20">
                                    <table class="table m-table m-table--head-separator-primary table-hover">
                                        <thead>
                                            <tr>
                                                <th>Camera</th>
                                                <th>Rule</th>
                                                <th>Category</th>
                                                <th>Date</th>
                                                <th>Events</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <ng-container *ngFor="let videoClip of videosObject;let i=index">
                                                <tr (click)="selectRow($event, videoClip)" [class.highlighted]="videoClip.clip === currentClip">
                                                    <!-- <td class="text-center">
                                                        <mat-icon class="text-primary show-cursor font-large" matTooltip="view clip" (click)="playVideo(videoClip.clip,videoClip.violationStart,videoClip.violationEnd)">ondemand_video
                                                        </mat-icon>
                                                    </td> -->
                                                    <td>{{videoClip.cameraName}}</td>
                                                    <td> {{videoClip.description}}</td>
                                                    <td> {{videoClip.category}}</td>
                                                    <td>{{videoClip.start}}</td>
                                                    <td>
                                                        <mat-icon class="text-primary show-cursor font-large" matTooltip="view clip" (click)="playVideo(videoClip.clip,videoClip.cameraName)">ondemand_video
                                                        </mat-icon>
                                                    </td>
                                                </tr>

                                            </ng-container>
                                            <tr *ngIf="videosObject.length === 0">
                                                <td colspan="5" class="text-center text-danger">
                                                    No Record Found
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <div class="m-portlet m-portlet--head-solid-bg m-portlet--head-sm" m-portlet="true">
                            <div class="m-portlet__head">
                                <div class="m-portlet__head-caption">
                                    <div class="m-portlet__head-title">
                                        <span class="m-portlet__head-icon">
                                            <i class="fa fa-eye fa-lg"></i>
                                        </span>
                                        <h3 class="m-portlet__head-text">
                                            Event Viewer
                                            <small id="videoTitle"></small>
                                        </h3>
                                    </div>
                                </div>
                                <div class="m-portlet__head-tools">
                                    <ul class="m-portlet__nav">
                                        <li class="m-portlet__nav-item">
                                            <a href="" m-portlet-tool="toggle" class="m-portlet__nav-link m-portlet__nav-link--icon">
                                                <i class="la la-angle-down"></i>
                                            </a>
                                        </li>
                                        <li class="m-portlet__nav-item">
                                            <a href="#" m-portlet-tool="fullscreen" class="m-portlet__nav-link m-portlet__nav-link--icon">
                                                <i class="la la-expand"></i>
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="m-portlet__body" id="videoSpace" style="text-align:center;">
                                <div *ngIf="!openVideoPlayerDiv" class="m-alert m-alert--outline m-alert--square alert alert-info alert-dismissible fade show"
                                    role="alert">
                                    <!-- <button type="button" class="close" data-dismiss="alert" aria-label="Close" id="videoAlert"></button> -->
                                    <strong>Hey!</strong> Videos are uploaded on demand. Please select a video to load it.
                                </div>
                                <div *ngIf="openVideoPlayerDiv">
                                    <video [src]="videoSrc" width="100%" height="380" autoplay controls id="video">
                                        Your browser does not support the video tag.
                                    </video>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-5">
                        <!--  Event Counts -->
                        <div class="m-portlet m-portlet--head-solid-bg m-portlet--head-sm mb-2" m-portlet="true">
                            <div class="m-portlet__head">
                                <div class="m-portlet__head-caption">
                                    <div class="m-portlet__head-title">
                                        <span class="m-portlet__head-icon">
                                            <i class="fa fa-sliders fa-lg"></i>
                                        </span>
                                        <h3 class="m-portlet__head-text">
                                            Event Counts
                                        </h3>
                                    </div>
                                </div>
                                <div class="m-portlet__head-tools">
                                    <ul class="m-portlet__nav">
                                        <li class="m-portlet__nav-item">
                                            <a href="" m-portlet-tool="toggle" class="m-portlet__nav-link m-portlet__nav-link--icon">
                                                <i class="la la-angle-down"></i>
                                            </a>
                                        </li>
                                        <li class="m-portlet__nav-item">
                                            <a href="#" m-portlet-tool="fullscreen" class="m-portlet__nav-link m-portlet__nav-link--icon">
                                                <i class="la la-expand"></i>
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="m-portlet__body">
                                <div class="row">
                                    <div class="col-sm-6">
                                        <div class="m-widget1__item">
                                            <div class="row m-row--no-padding align-items-center">
                                                <div class="col">
                                                    <h6 class="m-widget1__title">Safe Act</h6>
                                                </div>
                                                <div class="col m--align-right">
                                                    <span class="m-widget1__number" id="safetyCount" style="color:#9CB251">44</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <div style="padding:0.8em;">
                                            <div class="progress m-progress--sm">
                                                <div class="progress-bar" style="background-color:#9cb251 !important; width: 20%;" role="progressbar" id="safetyPercentageBar"
                                                    aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"></div>
                                            </div>
                                            <span class="m-widget24__number" id="safetyPercentageNum">
                                                20%</span>
                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <div class="m-widget1__item">
                                            <div class="row m-row--no-padding align-items-center">
                                                <div class="col">
                                                    <h6 class="m-widget1__title">NVAA</h6>
                                                </div>
                                                <div class="col m--align-right">
                                                    <span class="m-widget1__number" id="nvaaCount" style="color:#ff9800">33</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <div style="padding:0.8em;">
                                            <div class="progress m-progress--sm">
                                                <div class="progress-bar" style="background-color:#ff9800;width: 33%;" role="progressbar" id="nvaaPercentageBar" aria-valuenow="50"
                                                    aria-valuemin="0" aria-valuemax="100"></div>
                                            </div>
                                            <span class="m-widget24__number" id="nvaaPercentageNum">
                                                33.3%</span>
                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <div class="m-widget1__item">
                                            <div class="row m-row--no-padding align-items-center">
                                                <div class="col">
                                                    <h6 class="m-widget1__title">Behavior Analytics</h6>
                                                </div>
                                                <div class="col m--align-right">
                                                    <span class="m-widget1__number" id="behavioranalyticsCount" style="color:#f44336">29</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <div style="padding:0.8em;">
                                            <div class="progress m-progress--sm">
                                                <div class="progress-bar" style="background-color:#f44336;width: 49%;" role="progressbar" id="behavioranalyticsPercentageBar"
                                                    aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"></div>
                                            </div>
                                            <span class="m-widget24__number" id="behavioranalyticsPercentageNum">
                                                49%</span>
                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <div class="m-widget1__item">
                                            <div class="row m-row--no-padding align-items-center">
                                                <div class="col">
                                                    <h6 class="m-widget1__title">Conditional Analytics</h6>
                                                </div>
                                                <div class="col m--align-right">
                                                    <span class="m-widget1__number" id="conditionalanalyticsCount" style="color:#7E15B2">12</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <div style="padding:0.8em;">
                                            <div class="progress m-progress--sm">
                                                <div class="progress-bar" style="background-color:#7E15B2; width: 32%;" role="progressbar" id="conditionalanalyticsPercentageBar"
                                                    aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"></div>
                                            </div>
                                            <span class="m-widget24__number" id="conditionalanalyticsPercentageNum">32%
                                            </span>
                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <div class="m-widget1__item">
                                            <div class="row m-row--no-padding align-items-center">
                                                <div class="col">
                                                    <h6 class="m-widget1__title">Movement Analytics</h6>
                                                </div>
                                                <div class="col m--align-right">
                                                    <span class="m-widget1__number" id="movementanalyticsCount" style="color:#ffc10d">22</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <div style="padding:0.8em;">
                                            <div class="progress m-progress--sm">
                                                <div class="progress-bar" style="background-color:#ffc10d; width: 76%;" role="progressbar" id="movementanalyticsPercentageBar"
                                                    aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"></div>
                                            </div>
                                            <span class="m-widget24__number" id="movementanalyticsPercentageNum">76%
                                            </span>
                                        </div>
                                    </div>
                                    <div class="col-sm-12">
                                        <div class="m-widget1__item">
                                            <div class="row m-row--no-padding align-items-center">
                                                <div class="col">
                                                    <h3 class="m-widget1__title">Total</h3>
                                                </div>
                                                <div class="col m--align-right">
                                                    <h3 class="m-widget1__number m--font-info" style="color:#36a3f7" id="eventCount">300</h3>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--  Event Occurrences -->
                        <div class="m-portlet m-portlet--head-solid-bg m-portlet--head-sm mb-2" m-portlet="true">
                            <div class="m-portlet__head">
                                <div class="m-portlet__head-caption">
                                    <div class="m-portlet__head-title">
                                        <span class="m-portlet__head-icon">
                                            <i class="fa fa-bar-chart-o fa-lg"></i>
                                        </span>
                                        <h3 class="m-portlet__head-text">
                                            Event Occurrences
                                        </h3>
                                    </div>
                                </div>
                                <div class="m-portlet__head-tools">
                                    <ul class="m-portlet__nav">
                                        <li class="m-portlet__nav-item">
                                            <a m-portlet-tool="toggle" class="m-portlet__nav-link m-portlet__nav-link--icon">
                                                <i class="la la-angle-down"></i>
                                            </a>
                                        </li>
                                        <li class="m-portlet__nav-item">
                                            <a href="#" m-portlet-tool="fullscreen" class="m-portlet__nav-link m-portlet__nav-link--icon">
                                                <i class="la la-expand"></i>
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="m-portlet__body">
                                <div id="eventOccurrencesChart" style="height: 200px; margin: 0px auto; overflow: hidden;"></div>
                            </div>
                        </div>
                        <!-- Events By Type -->
                        <div class="m-portlet m-portlet--head-solid-bg m-portlet--head-sm" m-portlet="true">
                            <div class="m-portlet__head">
                                <div class="m-portlet__head-caption">
                                    <div class="m-portlet__head-title">
                                        <span class="m-portlet__head-icon">
                                            <i class="fa fa-pie-chart fa-lg"></i>
                                        </span>
                                        <h3 class="m-portlet__head-text">
                                            Events By Type
                                        </h3>
                                    </div>
                                </div>
                                <div class="m-portlet__head-tools">
                                    <ul class="m-portlet__nav">
                                        <li class="m-portlet__nav-item">
                                            <a href="" m-portlet-tool="toggle" class="m-portlet__nav-link m-portlet__nav-link--icon">
                                                <i class="la la-angle-down"></i>
                                            </a>
                                        </li>
                                        <li class="m-portlet__nav-item">
                                            <a href="#" m-portlet-tool="fullscreen" class="m-portlet__nav-link m-portlet__nav-link--icon">
                                                <i class="la la-expand"></i>
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="m-portlet__body">
                                <div id="eventsByTypeChart" style="height: 200px; margin: 0px auto; overflow: hidden;"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</mat-drawer-container>